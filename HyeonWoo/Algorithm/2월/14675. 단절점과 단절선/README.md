# [Silver I] 단절점과 단절선 - 14675 

[문제 링크](https://www.acmicpc.net/problem/14675) 

### 성능 요약

메모리: 58076 KB, 시간: 412 ms

### 분류

- 그래프 이론
- 트리
- 단절점과 단절선

### 문제 설명

그래프 이론에서 단절점(cut vertex)과 단절선(bridge)은 다음과 같이 정의 된다.

- 단절점(cut vertex) : 해당 정점을 제거하였을 때, 그 정점이 포함된 그래프가 2개 이상으로 나뉘는 경우, 이 정점을 단절점이라 한다.
- 단절선(bridge) : 해당 간선을 제거하였을 때, 그 간선이 포함된 그래프가 2개 이상으로 나뉘는 경우, 이 간선을 단절선이라 한다.

이 단절점과 단절선을 우리는 트리(tree)에서 구하려고 한다. 그래프 이론에서 트리(tree)의 정의는 다음과 같다.

- 트리(tree) : 사이클이 존재하지 않으며, 모든 정점이 연결되어 있는 그래프

트리의 정보와 질의가 주어질 때, 질의에 대한 답을 하시오. 

### 입력 

프로그램의 입력은 표준 입력으로 받는다. 입력의 첫 줄에는 트리의 정점 개수 N이 주어진다. (2 ≤ N ≤ 100,000) 트리의 정점은 1번부터 n번까지 존재한다. 다음 줄부터 N-1개의 줄에 걸쳐 간선의 정보 a, b가 주어진다. 이는 a정점과 b정점이 연결되어 있다는 뜻이며, 입력으로 주어지는 정보는 트리임이 보장된다. (1 ≤ a, b ≤ N)

다음 줄에는 질의의 개수 q가 주어진다. (1 ≤ q ≤ 100,000) 다음 q줄에는 질의 t k가 주어진다. (1 ≤ t ≤ 2) t가 1일 때는 k번 정점이 단절점인지에 대한 질의, t가 2일 때는 입력에서 주어지는 k번째 간선이 단절선인지에 대한 질의이다. t가 1일 때는 (1 ≤ k ≤ n)이며, t가 2일 때는 (1 ≤ k ≤ n - 1)이다. 

### 출력 

프로그램의 출력은 표준 출력으로 한다. q줄에 대하여 해당 질의에 대한 답을 한다. 각각은 개행으로 구분하며, 질의가 맞다면 ‘yes’를, 질의가 틀리면 ‘no’를 출력한다. 

### 알고리즘 접근 방식

트리의 구조와 그로인해 정의되는 단절점과 단절선의 조건을 잘 생각해보면 해결할 수 있다.
 
### 풀이

트리는 사이클이 존재하지 않고 모든 정점이 연결되어 있는 그래프다.

우선 가장 간단하게 생각할 수 있는 단절선 부터 조건을 확인해 보자.

단절선은 트리의 특징 중 사이클이 존재하지 않는다는 점을 주목해야 한다.


![SSAFY-19](https://user-images.githubusercontent.com/88186460/219872440-ef39e158-78b9-433e-bde9-27dff2a94a10.jpg)

일반 그래프의 경우 위 처럼 사이클이 존재하여 그래프가 나뉘지 않는 경우도 있다.

![SSAFY-20](https://user-images.githubusercontent.com/88186460/219872443-08dc1239-03a7-467d-95f8-016c0f2b0c59.jpg)

하지만 트리의 경우 사이클이 없기 때문에 어느 간선이든 단절선의 조건에 부합한다.
이 때 주의할 점은 노드가 한개 남더라도 그래프로 취급한다는 점이다.

다음은 단절점이다.

단절점은 트리의 특징 중 모든 정점이 연결되어 있다는 점을 주목해야 한다.
모든 정점이 연결되어 있기 때문에 반드시 하나 이상의 자식이나 부모 노드가 존재한다.

크게 두 경우로 볼 수 있다.

첫번 째 경우: 부모와 자식이 각각 1개 이상 존재할 경우

![SSAFY-21](https://user-images.githubusercontent.com/88186460/219872445-88687ae6-4eeb-4217-a334-fd9a67d3b3fa.jpg)

두번 째 경우: 루트 노드, 혹은 말단 노드일 경우

루트 노드 일 경우 자식 노드의 개수에 따라 단절점이 결정된다.

![SSAFY-22](https://user-images.githubusercontent.com/88186460/219872447-e9cab075-527a-4e32-9a2b-2655fc7de956.jpg)

말단 노드는 반드시 단절점이 아니다.

![SSAFY-23](https://user-images.githubusercontent.com/88186460/219872448-6de121a5-eea1-4792-ad68-276d1f365986.jpg)

루트 노드와 말단 노드를 하나의 경우로 보는 이유는 문제 입력의 두 정점이 주어질 때 어떤게 부모인지 자식인지 확인할 수 없기 때문이다.
때문에 부모와 자식이 아닌 연결된 간선의 개수로 단절점을 판단해야 한다.
